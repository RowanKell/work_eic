# Notes Wed June 19

## Neural Network approach

#### Feature spaces

(100k events - 80k train 20k test, 50-50 split pi/mu)

1. EDep per layer (28)
   1. 50% accuracy
2. pixels per layer (28)
   1. 91.755% accuracy



This makes 0 sense

#### model exploration

dropout

1. On pixels per layer: 91.135

L1/L2 normalization

Activation functions (ReLU as default):

1. Tanh
   1.  89.005%
2. Sigmoid
   1. 50% accuracy
3. LeakyReLU
   1. 91.78
4. SiLU
   1. 91.7
5. GELU
   1. 91.74

## Fitting z dependence on % of photons reaching sensor

![image-20240619164627594](/home/rowan/.config/Typora/typora-user-images/image-20240619164627594.png)

### function:

a / (x + b) + c

1. a = 494.98
2. b = 9.9733
3. c = -0.16796

### Result

1. seems that adding the z dependence lowers accuracy to 85%...

# Notes

1. If ever gettinga a mysterious CUDA error, switch device to cpu and run again - will get actual error







# KLM Meeting - 2pm



Questions / assumptions

1. scintillator bar length - is 1.5 or 2.5 a better option to work with right now?
2. SiPM - how large are they, how many per bar, how many pixels?
   1. Anything else about how we can more accurately model them in the simulation

meeting notes

1. timing + SiPM shape
   1. look at multiple arrivals - first staircase, then pulse shape - need to throw in dark arrivals
   2. just put active area of sipms in right place on bar - 12 4x4mm points - 2x6 array of - 4050HS
   3. ideally need a distribution for each photon, then draw a time for each photon
   4. need to know what the answer for timing
2. simulate a range of lengths and scintillator materials
3. 

next steps for me

1. May want to look at timing parametrization
   1. See time of hit for photons generated by hits at different positions - can we just use position as input and nothing else

# Notes Friday June 21st

Timing

1. Use z position as parameter
2. Parameterize for each photon for each hit?

Plan

1. Use optical photon one layer setup
2. Simulate opt ph over a range of theta
3. for each photon, 



## New plan - Timing

### Angle

1. Look at angle dependence of timing info
2. See if the shape of the timing distribution depends on angle
3. Plan
   1. Shoot from different positions to hit one spot at different angles

### Test if # of photons independent of timing distribution

1. Bin by energy and see if distributions are different at diff energies
   1. I.e if 1GeV and 5GeV have same timing distributions then we are good



# Group meeting

1. Run some EIC events through my affinity calculations, see if me and penn get the same thing
2. solenoid
   1. 2.5 tesla
   2. 120 cm
3. lower momenta -> higher angle -> more iron



EIC sim

1. is there a dependence of timing distribution on track angle
   1. could be that the emission angle is depending on the track angle





# June 24

## Mu Pi separation

1. Ian's code works well for 1GeV pions and muons at fixed theta, but seems like when theta is varied the accuracy will go down as more muons stop after first few layers (not sure why)

## Timing resolution

### Independence of primary energy and timing distribution

1. Need to bin timing distribution by energy
2. Seems that energy and timing distribution are uncorrelated, hard to tell exactly though

![](/home/rowan/Downloads/travel_time_energy_10k_20_bins.jpeg)

### Independence of # photons (energy dep) and timing

1. Unclear if there is a correlation or not, may need to run more events to get higher statistics

![](/home/rowan/Downloads/travel_time_num_photons_10k_20_bins.jpeg)

1. Need to run simulation where we get different angles / diff energy deposit and diff # of photons without the # photons being correlated with the position (and hence the travel time)